abia_orig <- read.csv('ABIA.csv')
airlinecodes <- read.csv('airline_codes.csv')
abia <- abia_orig %>% left_join(airlinecodes,by="UniqueCarrier")
library(magrittr)
library("dplyr")
library(ggplot2)
library(magrittr)
library("dplyr")
library(ggplot2)
abia_orig <- read.csv('ABIA.csv')
airlinecodes <- read.csv('airline_codes.csv')
abia <- abia_orig %>% left_join(airlinecodes,by="UniqueCarrier")
#most popular airlines
count(abia, vars = UniqueCarrier)
#most popular airlines
count(abia, vars = Airline)
#LINE PLOT MONTH VS AVERAGE ARRIVAL DELAY TIME BY AIRLINE -----------------------------DONE
AvgArrDelay <- abia %>%
group_by(Month, Airline) %>%
summarize(avgArrDelay = mean(ArrDelay, na.rm = TRUE))
#maybe subset for popular airlines
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline)) +
geom_line(aes(color=UniqueCarrier))+
geom_point(aes(color=UniqueCarrier))
#LINE PLOT MONTH VS AVERAGE ARRIVAL DELAY TIME BY AIRLINE -----------------------------DONE
AvgArrDelay <- abia %>%
group_by(Month, Airline) %>%
summarize(avgArrDelay = mean(ArrDelay, na.rm = TRUE))
#maybe subset for popular airlines
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline)) +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))
#most popular airlines
count(abia, vars = Airline)
#most popular airlines
commonair <- data.frame(count(abia, vars = Airline))
View(commonair)
summary(commonair$n)
median(commonair$n)
hist(commonair$vars)
hist(commonair$n)
hist(commonair)
hist(count(abia, vars = Airline))
counts <- table(abia$Airline)
table(abia$Airline)
barplot(airline.counts, main="Frequency of Airlines",
xlab="Number of Gears")
airline.counts <- table(abia$Airline)
barplot(airline.counts, main="Frequency of Airlines",
xlab="Number of Gears")
barplot(airline.counts, main="Frequency of Airlines",
xlab="Airline")
median(commonair$n)
airline.median <- median(commonair$n)
x.sub <- x %>%
filter(n >= airline.median)
x.sub <- commonair %>%
filter(n >= airline.median)
data1.sub <- commonair[commonair$n %in% x.sub$Airline, ]
View(data1.sub)
View(x.sub)
barplot(x.sub, main="Frequency of Airlines",
xlab="Airline")
x.sub <- commonair %>%
filter(n >= airline.median)
x.sub
x.sub$vars
myvars <- names(abia) %in% x.sub$vars
newdata <- abia[!myvars]
View(newdata)
newdata <- abia[myvars]
View(abia)
airline.median <- median(commonair$n)
airlines <- x.sub$vars
newdata <- subset(abia, Airline %in% airlines| age < 10,
select=c(ID, Weight))
newdata <- subset(abia, Airline %in% airlines)
View(newdata)
popular.abia <- subset(abia, Airline %in% airlines)
AvgArrDelay <- popular.abia %>%
group_by(Month, Airline) %>%
summarize(avgArrDelay = mean(ArrDelay, na.rm = TRUE))
#maybe subset for popular airlines
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline)) +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))
#maybe subset for popular airlines
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline)) +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
scale_fill_brewer(palette="Paired")
#maybe subset for popular airlines
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))
View(popular.abia)
#LINE PLOT MONTH VS AVERAGE ARRIVAL DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgDepDelay <- popular.abia %>%
group_by(Month, Airline) %>%
summarize(avgDepDelay = mean(DepDelay, na.rm = TRUE))
ggplot(AvgDepDelay, aes(x=Month, y=avgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))
View(commonair)
View(AvgArrDelay)
install.packages("RColorBrewer")
#LINE PLOT MONTH VS AVERAGE DEPARTURE DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
library(RColorBrewer)
AvgDepDelay <- popular.abia %>%
group_by(Month, Airline) %>%
summarize(avgDepDelay = mean(DepDelay, na.rm = TRUE))
ggplot(AvgDepDelay, aes(x=Month, y=avgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))
ggplot(AvgDepDelay, aes(x=Month, y=avgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
#Airline with the big peak
#most popular airlines (above median)
expjet <- abia[ which(abia$Airline=='ExpressJet', ]
#Airline with the big peak
#most popular airlines (above median)
expjet <- abia[ which(abia$Airline=='ExpressJet'), ]
#DEPARTURE DELAY
eAvgDepDelay <- expjet %>%
group_by(Month, Airline) %>%
summarize(eavgDepDelay = mean(DepDelay, na.rm = TRUE))
ggplot(eAvgDepDelay, aes(x=Month, y=eavgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
ggplot(eAvgDepDelay, aes(x=Month, y=eavgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color="green"))+
geom_point(aes(color=Airline))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
ggplot(eAvgDepDelay, aes(x=Month, y=eavgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
ggplot(eAvgDepDelay, aes(x=Month, y=eavgDepDelay, group=Airline))+
geom_line(aes(color="green"))+
geom_point(aes(color="green"))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
ggplot(eAvgDepDelay, aes(x=Month, y=eavgDepDelay, group=Airline))+
geom_line(color="green")+
geom_point(color="green")+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
ggplot(eAvgDepDelay, aes(x=Month, y=eavgDepDelay, group=Airline))+
geom_line(color="olivedrab4")+
geom_point(color="olivedrab4")+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
#ARRIVAL DELAY
eAvgArrDelay <- popular.abia %>%
group_by(Month, Airline) %>%
summarize(eavgArrDelay = mean(ArrDelay, na.rm = TRUE))
ggplot(eAvgArrDelay, aes(x=Month, y=eavgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
ggplot(eAvgArrDelay, aes(x=Month, y=eavgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(color="olivedrab4")+
geom_point(color="olivedrab4")+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
#ARRIVAL DELAY
eAvgArrDelay <- expjet %>%
group_by(Month, Airline) %>%
summarize(eavgArrDelay = mean(ArrDelay, na.rm = TRUE))
ggplot(eAvgArrDelay, aes(x=Month, y=eavgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(color="olivedrab4")+
geom_point(color="olivedrab4")+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
View(eAvgArrDelay)
ggplot(eAvgArrDelay, aes(x=Month, y=eavgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(color="olivedrab4")+
geom_point(color="olivedrab4")+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
library(magrittr)
library("dplyr")
library(ggplot2)
ggplot(eAvgArrDelay, aes(x=Month, y=eavgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(color="olivedrab4")+
geom_point(color="olivedrab4")+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
#filter out short delays
summary(abia$ArrDelay)
m <- mean(abia$ArrDelay)
abia %>% filter(ArrDelay > m)
m <- mean(abia$ArrDelay)
abia %>% filter(ArrDelay > m)
longdelays <-abia %>% filter(ArrDelay > m)
m <- mean(abia$ArrDelay)
mean(abia$ArrDelay)
View(abia)
m <- mean(abs(abia$ArrDelay))
longdelays <-abia %>% filter(ArrDelay > m)
mean(abs(abia$ArrDelay))
abs(abia$ArrDelay)
m<- mean(abia$ArrDelay, na.rm=TRUE)
longdelays <-abia %>% filter(ArrDelay > m)
summary(abia$DepDelay)
n<- mean(abia$DepDelay, na.rm=TRUE) #exclude NA from calculations
longARRdelays <-abia %>% filter(DepDelay > n)
longARRdelays <-abia %>% filter(ArrDelay > m)
summary(abia$DepDelay)
n<- mean(abia$DepDelay, na.rm=TRUE) #exclude NA from calculations
longDEPdelays <-abia %>% filter(DepDelay > n)
#LINE PLOT MONTH VS AVERAGE ARRIVAL DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgArrDelay <- longARRdelays %>%
group_by(Month, Airline) %>%
summarize(avgArrDelay = mean(ArrDelay, na.rm = TRUE))
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
#LINE PLOT MONTH VS AVERAGE DEPARTURE DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgDepDelay <- longARRdelays %>%
group_by(Month, Airline) %>%
summarize(avgDepDelay = mean(DepDelay, na.rm = TRUE))
ggplot(AvgDepDelay, aes(x=Month, y=avgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
summary(abia$DepDelay)
m<- mean(popular.abia$ArrDelay, na.rm=TRUE) #exclude NA from calculations
longARRdelays <-abia %>% filter(ArrDelay > m)
summary(abia$DepDelay)
n<- mean(popular.abia$DepDelay, na.rm=TRUE) #exclude NA from calculations
longDEPdelays <-abia %>% filter(DepDelay > n)
#LINE PLOT MONTH VS AVERAGE ARRIVAL DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgArrDelay <- longARRdelays %>%
group_by(Month, Airline) %>%
summarize(avgArrDelay = mean(ArrDelay, na.rm = TRUE))
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
#LINE PLOT MONTH VS AVERAGE DEPARTURE DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgDepDelay <- longARRdelays %>%
group_by(Month, Airline) %>%
summarize(avgDepDelay = mean(DepDelay, na.rm = TRUE))
ggplot(AvgDepDelay, aes(x=Month, y=avgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
summary(commonair$n)
airline.mean <- mean(commonair$n) #mean frequency of airlines in abia
x.sub <- commonair %>%
filter(n >= airline.mean) #data frame of list of airlines who's frequency is > median
airlines <- x.sub$vars #list of popular airlines
popular.abia <- subset(abia, Airline %in% airlines) #data frame with info for each flight for popular airlines
#LINE PLOT MONTH VS AVERAGE ARRIVAL DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgArrDelay <- popular.abia %>%
group_by(Month, Airline) %>%
summarize(avgArrDelay = mean(ArrDelay, na.rm = TRUE))
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
#LINE PLOT MONTH VS AVERAGE DEPARTURE DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgDepDelay <- popular.abia %>%
group_by(Month, Airline) %>%
summarize(avgDepDelay = mean(DepDelay, na.rm = TRUE))
ggplot(AvgDepDelay, aes(x=Month, y=avgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
#Airline with the big peak
#most popular airlines (above median)
expjet <- abia[ which(abia$Airline=='ExpressJet'), ]
#DEPARTURE DELAY------------------------------------------------
eAvgDepDelay <- expjet %>%
group_by(Month, Airline) %>%
summarize(eavgDepDelay = mean(DepDelay, na.rm = TRUE))
ggplot(eAvgDepDelay, aes(x=Month, y=eavgDepDelay, group=Airline))+
geom_line(color="olivedrab4")+
geom_point(color="olivedrab4")+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
#ARRIVAL DELAY------------------------------------------------
eAvgArrDelay <- expjet %>%
group_by(Month, Airline) %>%
summarize(eavgArrDelay = mean(ArrDelay, na.rm = TRUE))
ggplot(eAvgArrDelay, aes(x=Month, y=eavgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(color="olivedrab4")+
geom_point(color="olivedrab4")+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
#FILTER OUT SHORT DELAYS ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~``
summary(abia$ArrDelay)
m<- mean(popular.abia$ArrDelay, na.rm=TRUE) #exclude NA from calculations
longARRdelays <-abia %>% filter(ArrDelay > m)
summary(abia$DepDelay)
n<- mean(popular.abia$DepDelay, na.rm=TRUE) #exclude NA from calculations
longDEPdelays <-abia %>% filter(DepDelay > n)
#LINE PLOT MONTH VS AVERAGE ARRIVAL DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgArrDelay <- longARRdelays %>%
group_by(Month, Airline) %>%
summarize(avgArrDelay = mean(ArrDelay, na.rm = TRUE))
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
View(abia)
View(abia)
#FILTER OUT SHORT DELAYS ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~``
summary(popular.abia$ArrDelay)
m<- mean(popular.abia$ArrDelay, na.rm=TRUE) #exclude NA from calculations
longARRdelays <-popular.abia %>% filter(ArrDelay > m)
summary(abia$DepDelay)
n<- mean(popular.abia$DepDelay, na.rm=TRUE) #exclude NA from calculations
longDEPdelays <-popu
summary(popular.abia$ArrDelay)
m<- mean(popular.abia$ArrDelay, na.rm=TRUE) #exclude NA from calculations
longARRdelays <-popular.abia %>% filter(ArrDelay > m)
summary(abia$DepDelay)
n<- mean(popular.abia$DepDelay, na.rm=TRUE) #exclude NA from calculations
longDEPdelays <-popular.abia %>% filter(DepDelay > n)
#LINE PLOT MONTH VS AVERAGE ARRIVAL DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgArrDelay <- longARRdelays %>%
group_by(Month, Airline) %>%
summarize(avgArrDelay = mean(ArrDelay, na.rm = TRUE))
ggplot(AvgArrDelay, aes(x=Month, y=avgArrDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Arrival Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Arrival Delay")
#LINE PLOT MONTH VS AVERAGE DEPARTURE DELAY TIME BY AIRLINE FOR POPULAR AIRLINES -----------------------------DONE
AvgDepDelay <- longARRdelays %>%
group_by(Month, Airline) %>%
summarize(avgDepDelay = mean(DepDelay, na.rm = TRUE))
ggplot(AvgDepDelay, aes(x=Month, y=avgDepDelay, group=Airline))+
scale_fill_brewer(palette="Paired") +
geom_line(aes(color=Airline))+
geom_point(aes(color=Airline))+
ggtitle("Average Departure Delay Over Time (Year:2018)") +
xlab("Airline") +
ylab("Average Departure Delay")
